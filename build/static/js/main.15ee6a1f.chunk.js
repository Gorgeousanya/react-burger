(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{110:function(e,t,n){e.exports={buttons:"profile-nav_buttons__DjWxq"}},122:function(e,t,n){},17:function(e,t,n){e.exports={header:"app-header_header__1iHLW",content:"app-header_content__KCd-V",logo:"app-header_logo__zVEfY",button:"app-header_button__1tHq1",button_text:"app-header_button_text__QpOdy",button_active:"app-header_button_active__N4rAI"}},211:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(42),s=n.n(a),i=(n(122),n(49)),o=function(){return Object(i.b)()},l=i.c;function d(e,t,n){var r=(n=n||{}).expires;if("number"==typeof r&&r){var c=new Date;c.setTime(c.getTime()+1e3*r),r=n.expires=c}r&&r.toUTCString&&(n.expires=r.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var s in n){a+="; "+s;var i=n[s];!0!==i&&(a+="="+i)}document.cookie=a}function u(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function j(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}var m=function(e){return"done"===e?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===e?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"\u0421\u043e\u0437\u0434\u0430\u043d"},b="https://norma.nomoreparties.space/api/",p="SET_TAB",O="GET_INGREDIENTS_REQUEST",_="GET_INGREDIENTS_SUCCESS",x="GET_INGREDIENTS_ERROR",h="OPEN_MODAL",f="OPEN_MODAL_ORDER",g="CLOSE_MODAL",v="CLOSE_MODAL_ORDER",y="GET_ORDER_REQUEST",N="GET_ORDER_SUCCESS",E="GET_ORDER_ERROR",S="RESET_ORDER",R="ADD_INGREDIENT",T="DELETE_INGREDIENT",C="CHANGE_SORT",k=function(e){return function(t){try{t({type:y}),fetch(b+"orders",{method:"POST",mode:"cors",body:JSON.stringify({ingredients:e}),headers:{"Content-Type":"application/json",Authorization:"".concat(u("token"))}}).then(j).then((function(e){t(function(e){return{type:N,data:e}}(e))}))}catch(n){console.log(n),t({type:y})}}},I=function(){return function(e){try{e({type:O}),fetch(b+"ingredients").then(j).then((function(t){var n;e((n=t.data,{type:_,data:n}))}))}catch(t){console.log(t),e({type:O})}}},w=function(e){return{type:T,id:e}},D=function(){return{type:g}},P=function(e){return{type:p,tab:e}},U="REGISTER_REQUEST",A="REGISTER_SUCCESS",q="REGISTER_ERROR",L="LOGIN_REQUEST",G="LOGIN_SUCCESS",B="LOGIN_ERROR",z="UPDATE_TOKEN_REQUEST",W="UPDATE_TOKEN_SUCCESS",M="UPDATE_TOKEN_ERROR",Q="LOGOUT_REQUEST",F="LOGOUT_SUCCESS",J="LOGOUT_ERROR",V="USER_REQUEST",Z="USER_SUCCESS",H="USER_ERROR",K="UPDATE_USER_REQUEST",Y="UPDATE_USER_SUCCESS",X="UPDATE_USER_ERROR",$="FORGOT_PASSWORD_REQUEST",ee="FORGOT_PASSWORD_SUCCESS",te="FORGOT_PASSWORD_ERROR",ne="RESET_PASSWORD_REQUEST",re="RESET_PASSWORD_SUCCESS",ce="RESET_PASSWORD_ERROR",ae=function(){return{type:q}},se=function(){return{type:B}},ie=function(){return{type:J}},oe=function(e,t,n){return function(r){r({type:U}),fetch(b+"auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})}).then(j).then((function(e){var t;e.success?(d("token",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),r((t=e.user,{type:A,user:t}))):r(ae())})).catch((function(e){console.log(e),r(ae())}))}},le=function(e,t){return function(n){n({type:L}),fetch(b+"auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(j).then((function(e){var t;e.success?(d("token",e.accessToken),localStorage.setItem("refreshToken",e.refreshToken),n((t=e.user,{type:G,user:t}))):n(se())})).catch((function(e){console.log(e),n(se())}))}},de=function(){return function(e){e({type:z}),fetch(b+"auth/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then(j).then((function(t){t.success&&(d("token",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),e({type:W}))})).catch((function(t){console.log(t),e({type:M})}))}},ue=function(){return function(e){e({type:Q}),fetch(b+"auth/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then(j).then((function(t){t.success?(localStorage.removeItem("refreshToken"),d("token","",{expires:-1}),e({type:F})):e(ie())})).catch((function(t){console.log(t),e(ie())}))}},je=function(){return function(e){e({type:V}),fetch(b+"auth/user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"".concat(u("token"))}}).then(j).then((function(t){var n;t.success&&e((n=t.user,{type:Z,user:n}))})).catch((function(t){console.log(t),e({type:H})}))}},me=function e(t,n){return function(r){r({type:K}),fetch(b+"auth/user",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"".concat(u("token"))},body:JSON.stringify({email:t,name:n})}).then(j).then((function(e){var t;console.log(e),e.success&&r((t=e.user,{type:Y,user:t}))})).catch((function(c){console.log(c),localStorage.getItem("refreshToken")?(r(de()),r(e(t,n))):r({type:X})}))}},be=function(e){return function(t){t({type:$}),fetch(b+"password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(j).then((function(e){e.success&&t({type:ee})})).catch((function(e){console.log(e),t({type:te})}))}},pe=function(e,t){return function(n){n({type:ne}),fetch(b+"password-reset/reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})}).then(j).then((function(e){e.success&&n({type:re})})).catch((function(e){console.log(e),n({type:ce})}))}},Oe=n(11),_e=n(3),xe=n.n(_e),he=n(13),fe=n(27),ge=n.n(fe),ve=n(5),ye=n(219),Ne=n(12),Ee=n(0),Se="\u0411\u0443\u043b\u043a\u0438",Re="\u0421\u043e\u0443\u0441\u044b",Te="\u041d\u0430\u0447\u0438\u043d\u043a\u0438",Ce=function(e){var t=e.item,n=e.onClick,r=Object(ye.a)({type:"ingredients",item:t}),a=Object(he.a)(r,2)[1],s=Object(Oe.h)(),i=l((function(e){return e.burger.constructor})),o=null===i||void 0===i?void 0:i.filter((function(e){return e._id===t._id})).length;return Object(Ee.jsx)(c.a.Fragment,{children:Object(Ee.jsx)(Ne.b,{className:ge.a.link,to:{pathname:"/ingredients/".concat(t._id),state:{background:s}},children:Object(Ee.jsxs)("div",{className:ge.a.card,onClick:n,ref:a,children:[0!==o&&o&&Object(Ee.jsx)("div",{className:ge.a.counter,children:Object(Ee.jsx)(ve.Counter,{count:o,size:"default"})}),Object(Ee.jsx)("img",{src:t.image_large,className:ge.a.img,alt:t.name}),Object(Ee.jsx)("div",{className:ge.a.map,children:Object(Ee.jsxs)("p",{className:"text text_type_digits-default",children:[t.price,Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})}),Object(Ee.jsx)("p",{className:"text text_type_main-default",children:t.name})]})},t._id)})},ke=function(){var e=o(),t=l((function(e){return e.burger.tab})),n=l((function(e){return e.burger.ingredients}));function r(t){var n;console.log(t),e(P(t)),null===(n=document.getElementById(t+"-list"))||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start"})}var c=function(t){e(function(e){return{type:h,item:e}}(t))};return Object(Ee.jsxs)("div",{className:ge.a.ingredient,children:[Object(Ee.jsx)("p",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Ee.jsxs)("div",{className:ge.a.tab,children:[Object(Ee.jsx)(ve.Tab,{value:"one",active:"one"===t,onClick:r,children:Se}),Object(Ee.jsx)(ve.Tab,{value:"two",active:"two"===t,onClick:r,children:Re}),Object(Ee.jsx)(ve.Tab,{value:"three",active:"three"===t,onClick:r,children:Te})]}),Object(Ee.jsx)("div",{className:ge.a.main,id:"ingredients-list",onScroll:function(){var n,r=(null===(n=document.getElementById("ingredients-list"))||void 0===n?void 0:n.scrollTop)||0,c="",a=1e6,s=0;["one","two","three"].forEach((function(e){var t,n,i=(null===(t=document.getElementById(e+"-list"))||void 0===t?void 0:t.offsetTop)||0,o=(null===(n=document.getElementById("ingredients-list"))||void 0===n?void 0:n.offsetTop)||0;(s=Math.abs(i-o-r))<a&&(c=e,a=s)})),c!==t&&e(P(c))},children:Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium",id:"one-list",children:Se}),Object(Ee.jsx)("div",{className:ge.a.map,children:null===n||void 0===n?void 0:n.map((function(e){return"bun"===e.type&&Object(Ee.jsx)(Ce,{item:e,onClick:function(){c(e)}},e._id)}))}),Object(Ee.jsx)("p",{className:"text text_type_main-medium",id:"two-list",children:Re}),Object(Ee.jsx)("div",{className:ge.a.map,children:null===n||void 0===n?void 0:n.map((function(e){return"sauce"===e.type&&Object(Ee.jsx)(Ce,{item:e,onClick:function(){c(e)}},e._id)}))}),Object(Ee.jsx)("p",{className:"text text_type_main-medium",id:"three-list",children:Te}),Object(Ee.jsx)("div",{className:ge.a.map,children:null===n||void 0===n?void 0:n.map((function(e){return"main"===e.type&&Object(Ee.jsx)(Ce,{item:e,onClick:function(){c(e)}},e._id)}))})]})})]})},Ie=n(2),we=n(222),De=n(39),Pe=n.n(De),Ue=n(43),Ae=n.n(Ue),qe=function(e){var t=e.children,n=e.onClick;return Object(Ee.jsx)("div",{onClick:n,className:Ae.a.modaloverlay,children:t})},Le=document.getElementById("modals")||document.body,Ge=function(e){var t=e.onClose,n=e.isOpen,c=e.children;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[t]),n?s.a.createPortal(Object(Ee.jsxs)(Ee.Fragment,{children:[Object(Ee.jsx)(qe,{onClick:t}),Object(Ee.jsxs)("div",{className:Ae.a.modal,children:[Object(Ee.jsx)("div",{className:Ae.a.header,children:Object(Ee.jsx)("div",{className:Ae.a.button,children:Object(Ee.jsx)(ve.Button,{type:"secondary",size:"small",onClick:t,children:Object(Ee.jsx)(ve.CloseIcon,{type:"primary"})})})}),c]})]}),Le):null},Be=n.p+"static/media/done.fd977731.svg",ze=n(83),We=n.n(ze);function Me(){var e,t=l((function(e){var t;return null===(t=e.burger)||void 0===t?void 0:t.order}));return console.log(t),null!==t&&void 0!==t&&t.success?Object(Ee.jsxs)("div",{className:We.a.component,children:[Object(Ee.jsx)("p",{className:"text text_type_main-large",children:null===t||void 0===t?void 0:t.name}),Object(Ee.jsx)("p",{className:"text text_type_digits-large",children:null===t||void 0===t||null===(e=t.order)||void 0===e?void 0:e.number}),Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ee.jsx)("img",{src:Be,alt:"done",className:We.a.img}),Object(Ee.jsx)("p",{className:"text text_type_main-default",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]}):Object(Ee.jsx)("p",{className:"text text_type_main-large mb-15",children:" \u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f..."})}var Qe=n(220),Fe=function(e){var t=e.item,n=e.index,r=c.a.useRef(null),a=o(),s=Object(ye.a)({type:"ingredient",item:{index:n}}),i=Object(he.a)(s,2)[1],l=Object(Qe.a)({accept:"ingredient",hover:function(e){if(r.current){var t=e.index,c=n;t!==c&&(a(function(e,t){return{type:C,drag:e,hover:t}}(t,c)),e.index=c)}}});return i((0,Object(he.a)(l,2)[1])(r)),Object(Ee.jsxs)("div",{className:Pe.a.element,ref:r,children:[Object(Ee.jsx)(ve.DragIcon,{type:"primary"}),Object(Ee.jsx)(ve.ConstructorElement,{text:null===t||void 0===t?void 0:t.name,price:null===t||void 0===t?void 0:t.price,thumbnail:null===t||void 0===t?void 0:t.image,handleClose:function(){a(w(null===t||void 0===t?void 0:t.uuid))}})]})},Je=function(){var e=o(),t=l((function(e){var t;return null!==(t=e.burger.constructor)&&void 0!==t?t:[]})),n=t.find((function(e){return"bun"===(null===e||void 0===e?void 0:e.type)})),r=t.filter((function(e){return(null===e||void 0===e?void 0:e.type)&&"bun"!==(null===e||void 0===e?void 0:e.type)})),a=l((function(e){return e.burger.modalOrder})),s=Object(Oe.g)(),i=l((function(e){return e.auth.loggedIn})),d=c.a.useMemo((function(){return t?t.filter((function(e){return null===e||void 0===e?void 0:e.price})).reduce((function(e,t){return e+t.price}),0):0}),[t]),u=Object(Qe.a)({accept:"ingredients",drop:function(t){var r;n&&"bun"===t.type&&e(w(null===n||void 0===n?void 0:n.uuid)),e((r=Object(Ie.a)(Object(Ie.a)({},t),{},{uuid:Object(we.a)()}),{type:R,item:r}))},collect:function(e){return{isDrop:e.isOver()}}}),j=Object(he.a)(u,2),m=j[0].isDrop,b=j[1],p="".concat(Pe.a.container," ").concat(m&&Pe.a.drop);return Object(Ee.jsxs)(c.a.Fragment,{children:[Object(Ee.jsxs)(Ge,{isOpen:a,onClose:function(){e({type:v}),console.log(a),e({type:S})},children:[" ",Object(Ee.jsx)(Me,{})]}),Object(Ee.jsxs)("div",{className:p,ref:b,children:[n?Object(Ee.jsx)(ve.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(n.name," (\u0432\u0435\u0440\u0445)"),price:n.price,thumbnail:n.image}):Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0431\u0443\u0440\u0433\u0435\u0440\u0430"}),Object(Ee.jsx)("div",{className:Pe.a.main,children:r&&(null===r||void 0===r?void 0:r.map((function(e,t){return Object(Ee.jsx)(Fe,{item:e,index:t},null===e||void 0===e?void 0:e.uuid)})))}),n&&Object(Ee.jsx)(ve.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(n.name," (\u043d\u0438\u0437)"),price:n.price,thumbnail:n.image}),Object(Ee.jsxs)("div",{className:Pe.a.cost,children:[Object(Ee.jsx)("div",{className:Pe.a.price,children:Object(Ee.jsxs)("p",{className:"text text_type_digits-medium",children:[d,Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})}),Object(Ee.jsx)(ve.Button,{type:"primary",size:"large",onClick:function(){if(i){var n=t.map((function(e){return e._id}));console.log(n),e(k(n)),setTimeout((function(){e({type:f})}),1e3)}else s.push("/login")},disabled:0===d,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})]})},Ve=n(114),Ze=n(217);var He=function(){return Object(Ee.jsx)("div",{className:xe.a.App,children:Object(Ee.jsx)("main",{className:xe.a.page_content,children:Object(Ee.jsxs)(Ze.a,{backend:Ve.a,children:[Object(Ee.jsx)(ke,{}),Object(Ee.jsx)(Je,{})]})})})},Ke=n(24);function Ye(){var e,t=Object(Oe.g)(),n=Object(Oe.h)(),c=Object(r.useRef)(null),a=Object(r.useState)({email:"",password:""}),s=Object(he.a)(a,2),i=s[0],d=s[1],u=o(),j=function(e){d(Object(Ie.a)(Object(Ie.a)({},i),{},Object(Ke.a)({},e.target.name,e.target.value)))};return l((function(e){return e.auth.loggedIn}))?Object(Ee.jsx)(Oe.a,{to:(null===(e=n.state)||void 0===e?void 0:e.from)||"/"}):Object(Ee.jsxs)("div",{className:xe.a.App,children:[Object(Ee.jsxs)("div",{className:xe.a.inputs,children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(le(i.email,i.password))},children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"E-mail",onChange:j,value:i.email,name:"email",error:!1,ref:c,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:j,value:i.password,name:"password",error:!1,ref:c,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",onClick:function(){t.replace({pathname:"/register"})},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",onClick:function(){t.replace({pathname:"/forgot-password"})},children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})}var Xe=n(110),$e=n.n(Xe),et=function(){var e=o(),t=l((function(e){return e.auth.loggedIn})),n=Object(Oe.g)();return Object(Ee.jsx)(c.a.Fragment,{children:Object(Ee.jsxs)("div",{className:$e.a.buttons,children:[Object(Ee.jsx)(ve.Button,{type:"secondary",size:"large",onClick:function(){n.replace({pathname:"/profile"})},children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"large",onClick:function(){n.replace({pathname:"/profile/orders"})},children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"large",onClick:function(){if(e(ue()),!t)return Object(Ee.jsx)(Oe.a,{to:"/login"})},children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u0445\u043e\u0434"})}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-20 ml-10",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]})})};function tt(){var e=Object(r.useRef)(null),t=o(),n=l((function(e){return e.auth.user})),c=Object(r.useState)(Object(Ie.a)(Object(Ie.a)({},n),{},{password:""})),a=Object(he.a)(c,2),s=a[0],i=a[1],d=Object(r.useState)(!0),u=Object(he.a)(d,2),j=u[0],m=u[1],b=function(e){i(Object(Ie.a)(Object(Ie.a)({},s),{},Object(Ke.a)({},e.target.name,e.target.value))),m(!1)};return Object(Ee.jsx)("div",{className:xe.a.App,children:Object(Ee.jsxs)("main",{className:xe.a.page_content,children:[Object(Ee.jsx)(et,{}),Object(Ee.jsxs)("form",{className:xe.a.buttons,onSubmit:function(e){e.preventDefault(),t(me(s.email,s.name))},children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u0418\u043c\u044f",icon:"EditIcon",onChange:b,value:s.name,name:"name",error:!1,ref:e})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",onChange:b,icon:"EditIcon",value:s.email,name:"email",error:!1,ref:e,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",onChange:b,icon:"EditIcon",value:s.password,name:"password",error:!1,ref:e,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)(ve.Button,{type:"secondary",onClick:function(){i(Object(Ie.a)(Object(Ie.a)({},n),{},{password:s.password})),m(!0)},disabled:j,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(Ee.jsx)(ve.Button,{disabled:j,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})})}var nt="WS_CONNECTION_START",rt="WS_CONNECTION_SUCCESS",ct="WS_CONNECTION_ERROR",at="WS_CONNECTION_CLOSED",st="WS_GET_ORDERS",it="OPEN_WS_MODAL",ot="CLOSE_WS_MODAL",lt=function(e,t){return{type:nt,withToken:e,payload:t}},dt=function(){return{type:at}},ut=function(){return{type:it}},jt=function(){return{type:ot}},mt={wsInit:nt,onOpen:rt,onClose:at,onError:ct,onGetOrders:st,wsOpenModal:it,wsCloseModal:ot},bt=n(30),pt=n.n(bt),Ot=n(218),_t=n(221),xt=function(e){var t=e.number,n=e.createdAt,r=e.name,a=e.ingredientsId,s=e.id,i=e.status,d=Object(Oe.h)(),u=o(),j=l((function(e){return e.burger.ingredients})).filter((function(e){return a.includes(e._id)})).reverse(),b=j.length>5?j.slice(0,5):j,p=j.length>5?j.length-5:0,O=c.a.useMemo((function(){return j?j.reduce((function(e,t){return e+t.price}),0):0}),[j]);return Object(Ee.jsx)(Ne.b,{to:{pathname:"".concat(d.pathname,"/").concat(s),state:{background:d}},className:pt.a.link,onClick:function(){u(ut)},children:Object(Ee.jsxs)("div",{className:pt.a.item,children:[Object(Ee.jsxs)("div",{className:pt.a.data,children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default",children:["#",t]}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:Object(Ot.a)(new Date(n),new Date,{locale:_t.a})})]}),Object(Ee.jsx)("p",{className:"text text_type_main-medium pt-6 pb-4",children:r}),Object(Ee.jsx)("p",{className:pt.a.status,children:m(i)}),Object(Ee.jsxs)("div",{className:pt.a.data,children:[Object(Ee.jsx)("ul",{className:pt.a.list,children:b.map((function(e,t){return Object(Ee.jsxs)("div",{className:pt.a.images,children:[Object(Ee.jsx)("img",{className:pt.a.image,src:e.image,alt:e.name}),0===t&&p>0&&Object(Ee.jsxs)("p",{className:pt.a.count,children:["+",p]})]},t)}))}),Object(Ee.jsxs)("div",{className:pt.a.price,children:[Object(Ee.jsx)("p",{className:"text text_type_digits-default",children:O}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]})]})})};function ht(){var e=l((function(e){return e.feed.orders})),t=Object(r.useState)([]),n=Object(he.a)(t,2),c=n[0],a=n[1],s=o();return Object(r.useEffect)((function(){return s(lt(!0,"")),function(){s(dt())}}),[s]),Object(r.useEffect)((function(){e&&a(e.orders)}),[e]),e?Object(Ee.jsxs)("div",{className:xe.a.page_content,children:[Object(Ee.jsx)(et,{}),Object(Ee.jsx)("div",{className:xe.a.main,children:null===c||void 0===c?void 0:c.map((function(e){return Object(Ee.jsx)(xt,{id:e._id,number:e.number,createdAt:e.createdAt,name:e.name,ingredientsId:e.ingredients,status:e.status},e._id)}))})]}):null}function ft(){var e=Object(Oe.g)(),t=Object(r.useRef)(null),n=Object(r.useState)({email:"",password:"",name:""}),c=Object(he.a)(n,2),a=c[0],s=c[1],i=o(),d=function(e){s(Object(Ie.a)(Object(Ie.a)({},a),{},Object(Ke.a)({},e.target.name,e.target.value)))};return l((function(e){return e.auth.loggedIn}))?Object(Ee.jsx)(Oe.a,{to:"/"}):Object(Ee.jsxs)("div",{className:xe.a.App,children:[Object(Ee.jsxs)("div",{className:xe.a.inputs,children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(oe(a.email,a.password,a.name))},children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:d,value:a.name,name:"name",error:!1,ref:t,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"E-mail",onChange:d,value:a.email,name:"email",error:!1,ref:t,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430"})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.PasswordInput,{onChange:d,value:a.password,name:"password"})}),Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",onClick:function(){e.replace({pathname:"/login"})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}function gt(){var e=o(),t=Object(Oe.g)(),n=l((function(e){return e.auth.loggedIn})),r=c.a.useState({email:""}),a=Object(he.a)(r,2),s=a[0],i=a[1];if(n)return Object(Ee.jsx)(Oe.a,{to:"/"});return Object(Ee.jsxs)("div",{className:xe.a.App,children:[Object(Ee.jsxs)("div",{className:xe.a.inputs,children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})}),Object(Ee.jsxs)("form",{onSubmit:function(n){n.preventDefault(),e(be(s.email)),t.push({pathname:"/reset-password",state:{prevPathname:t.location.pathname}})},children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"E-mail",onChange:function(e){i(Object(Ie.a)(Object(Ie.a)({},s),{},Object(Ke.a)({},e.target.name,e.target.value)))},value:s.email,name:"email",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})]})]}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",onClick:function(){t.replace({pathname:"/login"})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}function vt(){var e=l((function(e){return e.auth})),t=o(),n=Object(Oe.g)(),c=n.location.state,a=Object(r.useState)({password:"",token:""}),s=Object(he.a)(a,2),i=s[0],d=s[1],u=function(e){d(Object(Ie.a)(Object(Ie.a)({},i),{},Object(Ke.a)({},e.target.name,e.target.value)))};return c?null!==e&&void 0!==e&&e.loggedIn?Object(Ee.jsx)(Oe.a,{to:"/"}):Object(Ee.jsxs)("div",{className:xe.a.App,children:[Object(Ee.jsxs)("div",{className:xe.a.inputs,children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"})}),Object(Ee.jsxs)("form",{onSubmit:function(r){r.preventDefault(),t(pe(i.password,i.token)),null!==e&&void 0!==e&&e.resetPasswordError?alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c:("):n.push("/login")},children:[Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.PasswordInput,{onChange:u,value:i.password,name:"password"})}),Object(Ee.jsx)("div",{className:xe.a.input,children:Object(Ee.jsx)(ve.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",onChange:u,value:i.token,name:"token",error:!1,errorText:"\u041e\u0448\u0438\u0431\u043a\u0430",size:"default"})}),Object(Ee.jsx)(ve.Button,{type:"primary",size:"medium",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),Object(Ee.jsxs)("div",{className:xe.a.save,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ee.jsx)(ve.Button,{type:"secondary",size:"medium",onClick:function(){n.replace({pathname:"/login"})},children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(Ee.jsx)(Oe.a,{to:"/login"})}var yt,Nt,Et=function(){var e=Object(Oe.i)().id,t=l((function(e){return e.burger.ingredients})),n=null===t||void 0===t?void 0:t.find((function(t){return t._id===e}));return Object(Ee.jsxs)("div",{className:xe.a.component,children:[Object(Ee.jsx)("p",{className:"text text_type_main-large",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(Ee.jsx)("img",{src:null===n||void 0===n?void 0:n.image_large,alt:"image_large"}),Object(Ee.jsx)("p",{className:"text text_type_main-medium",children:null===n||void 0===n?void 0:n.name}),Object(Ee.jsxs)("div",{className:xe.a.ingredient,children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===n||void 0===n?void 0:n.calories})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===n||void 0===n?void 0:n.proteins})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===n||void 0===n?void 0:n.fat})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:null===n||void 0===n?void 0:n.carbohydrates})]})]})]})},St=function(){var e,t=Object(Oe.i)().id,n=Object(Oe.h)();console.log(n.pathname.split("/")[1]);var c=l((function(e){return e.feed.orders})),a=null===c||void 0===c||null===(e=c.orders)||void 0===e?void 0:e.find((function(e){return e._id===t})),s=l((function(e){return e.burger.ingredients})),i="feed"==n.pathname.split("/")[1]?"/all":"",d=null===s||void 0===s?void 0:s.filter((function(e){return null===a||void 0===a?void 0:a.ingredients.includes(e._id)})),u=d.reduce((function(e,t){return e+="bun"==t.type?t.price:2*t.price}),0),j=o();return Object(r.useEffect)((function(){return j(lt("feed"!=n.pathname.split("/")[1],i)),function(){j(dt())}}),[j]),a?Object(Ee.jsxs)("main",{className:xe.a.modal,children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default ",children:["#",null===a||void 0===a?void 0:a.number]}),Object(Ee.jsxs)("div",{className:xe.a.content,children:[Object(Ee.jsxs)("p",{className:"text text_type_main-medium mt-10",children:[" ",null===a||void 0===a?void 0:a.name]}),Object(Ee.jsx)("p",{className:xe.a.status,children:m((null===a||void 0===a?void 0:a.status)||"")}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-6 mb-3",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),null===d||void 0===d?void 0:d.map((function(e,t){return Object(Ee.jsxs)("div",{className:xe.a.ingredients,children:[Object(Ee.jsx)("img",{className:xe.a.image,src:null===e||void 0===e?void 0:e.image_mobile}),Object(Ee.jsx)("p",{className:"text text_type_main-default",children:null===e||void 0===e?void 0:e.name}),Object(Ee.jsxs)("div",{className:xe.a.total,children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default mr-2",children:["bun"===e.type?2:1," x ",null===e||void 0===e?void 0:e.price]}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]},t)})),Object(Ee.jsxs)("div",{className:xe.a.row,children:[Object(Ee.jsx)("p",{className:"text text_type_main-default text_color_inactive ",children:a?Object(Ot.a)(new Date(a.createdAt),new Date,{locale:_t.a}):""}),Object(Ee.jsxs)("div",{className:xe.a.total,children:[Object(Ee.jsxs)("p",{className:"text text_type_digits-default mr-2 ",children:[" ",u]}),Object(Ee.jsx)(ve.CurrencyIcon,{type:"primary"})]})]})]})]}):Object(Ee.jsx)("main",{className:xe.a.modal,children:Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-30",children:" \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})},Rt=n(32),Tt=n.n(Rt),Ct=function(){var e,t,n=l((function(e){return e.feed.orders}));if(!n)return null;var r=null===n||void 0===n||null===(e=n.orders)||void 0===e?void 0:e.filter((function(e){return"done"===e.status})).slice(0,5),c=null===n||void 0===n||null===(t=n.orders)||void 0===t?void 0:t.filter((function(e){return"pending"===e.status})).slice(0,5);return Object(Ee.jsxs)("main",{className:Tt.a.main,children:[Object(Ee.jsxs)("div",{className:Tt.a.orders,children:[Object(Ee.jsxs)("div",{className:Tt.a.column,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-10",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),null===r||void 0===r?void 0:r.map((function(e){return Object(Ee.jsx)("p",{className:"text text_type_digits-default mt-2 ".concat(Tt.a.doneNumber),children:e.number},e._id)}))]}),Object(Ee.jsxs)("div",{className:Tt.a.column,children:[Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-10 ml-30",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),null===c||void 0===c?void 0:c.map((function(e){return Object(Ee.jsx)("p",{className:"text text_type_digits-default mt-2 ".concat(Tt.a.doneNumber),children:e.number},e._id)}))]})]}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-10",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Ee.jsx)("p",{className:"text text_type_digits-large ".concat(Tt.a.count),children:n.total}),Object(Ee.jsx)("p",{className:"text text_type_main-medium mt-10",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Ee.jsx)("p",{className:"text text_type_digits-large ".concat(Tt.a.count),children:n.totalToday})]})},kt=function(){var e=o();Object(r.useEffect)((function(){return e(lt(!1,"/all")),function(){e(dt())}}),[e]);var t=l((function(e){return e.feed.orders.orders}));return Object(Ee.jsxs)("main",{className:xe.a.page_content,children:[Object(Ee.jsxs)("div",{className:xe.a.main,children:[Object(Ee.jsx)("h2",{className:"text text_type_main-large mt-10 ml-5",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),null===t||void 0===t?void 0:t.map((function(e){return Object(Ee.jsx)(xt,{id:e._id,number:e.number,createdAt:e.createdAt,name:e.name,ingredientsId:e.ingredients,status:e.status},e._id)}))]}),Object(Ee.jsx)(Ct,{})]})},It=n(111),wt=n(112),Dt=["children"],Pt=function(e){var t=e.children,n=Object(wt.a)(e,Dt),r=l((function(e){var t;return null===(t=e.auth)||void 0===t?void 0:t.loggedIn})),c=Object(Oe.h)();return void 0!=r?Object(Ee.jsx)(Oe.b,Object(Ie.a)(Object(Ie.a)({},n),{},{render:function(e){return Object(It.a)(e),r?t:Object(Ee.jsx)(Oe.a,{to:{pathname:"/login",state:{from:c}}})}})):null},Ut=n(17),At=n.n(Ut),qt=function(){var e=Object(Oe.j)("/"),t=Object(Oe.j)("/feed"),n=Object(Oe.j)("/profile"),r=Object(Oe.j)("/profile/orders");return Object(Ee.jsx)("header",{className:At.a.header,children:Object(Ee.jsxs)("div",{className:At.a.content,children:[Object(Ee.jsx)(Ne.c,{exact:!0,to:"/",className:At.a.button,activeClassName:At.a.button_active,children:Object(Ee.jsxs)("div",{className:At.a.content,children:[Object(Ee.jsx)(ve.BurgerIcon,{type:null!==e&&void 0!==e&&e.isExact?"primary":"secondary"}),Object(Ee.jsx)("p",{className:At.a.button_text,children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]})}),Object(Ee.jsx)(Ne.c,{exact:!0,to:"/feed",className:At.a.button,activeClassName:At.a.button_active,children:Object(Ee.jsxs)("div",{className:At.a.content,children:[Object(Ee.jsx)(ve.ListIcon,{type:t?"primary":"secondary"}),Object(Ee.jsx)("p",{className:At.a.button_text,children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})}),Object(Ee.jsx)("div",{className:At.a.logo,children:Object(Ee.jsx)(ve.Logo,{})}),Object(Ee.jsx)(Ne.c,{exact:!0,to:"/profile",className:At.a.button,activeClassName:At.a.button_active,children:Object(Ee.jsxs)("div",{className:At.a.content,children:[Object(Ee.jsx)(ve.ProfileIcon,{type:n||r?"primary":"secondary"}),Object(Ee.jsx)("p",{className:At.a.button_text,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},Lt=function(){var e=o(),t=l((function(e){return e.burger.modal})),n=l((function(e){return e.feed.wsModal})),c=Object(Oe.g)(),a=Object(Oe.h)(),s=a.state&&a.state.background;Object(r.useEffect)((function(){e(I()),localStorage.refreshToken&&(console.log(localStorage.refreshToken),e(je())),c.replace()}),[e]);var i=function(){e(D),e(jt),c.goBack()};return Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(qt,{}),Object(Ee.jsxs)(Oe.d,{location:s||a,children:[Object(Ee.jsx)(Oe.b,{path:"/",exact:!0,children:Object(Ee.jsx)(He,{})}),Object(Ee.jsx)(Pt,{path:"/profile/orders/:id",children:Object(Ee.jsx)(St,{})}),Object(Ee.jsx)(Pt,{path:"/profile/orders",children:Object(Ee.jsx)(ht,{})}),Object(Ee.jsx)(Pt,{path:"/profile",children:Object(Ee.jsx)(tt,{})}),Object(Ee.jsx)(Oe.b,{path:"/login",exact:!0,children:Object(Ee.jsx)(Ye,{})}),Object(Ee.jsx)(Oe.b,{path:"/register",exact:!0,children:Object(Ee.jsx)(ft,{})}),Object(Ee.jsx)(Oe.b,{path:"/forgot-password",exact:!0,children:Object(Ee.jsx)(gt,{})}),Object(Ee.jsx)(Oe.b,{path:"/reset-password",exact:!0,children:Object(Ee.jsx)(vt,{})}),Object(Ee.jsx)(Oe.b,{path:"/ingredients/:id",children:Object(Ee.jsx)(Et,{})}),Object(Ee.jsx)(Oe.b,{path:"/feed/:id",exact:!0,children:Object(Ee.jsx)(St,{})}),Object(Ee.jsx)(Oe.b,{path:"/feed",exact:!0,children:Object(Ee.jsx)(kt,{})})]}),t&&s&&Object(Ee.jsx)(Oe.b,{path:"/ingredients/:id",exact:!0,children:Object(Ee.jsxs)(Ge,{isOpen:t,onClose:i,children:[" ",Object(Ee.jsx)(Et,{})]})}),s&&Object(Ee.jsx)(Oe.b,{path:"/feed/:id",exact:!0,children:Object(Ee.jsx)(Ge,{isOpen:n,onClose:i,children:Object(Ee.jsx)(St,{})})}),n&&s&&Object(Ee.jsx)(Oe.b,{path:"/profile/orders/:id",exact:!0,children:Object(Ee.jsx)(Ge,{isOpen:n,onClose:i,children:Object(Ee.jsx)(St,{})})})]})},Gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},Bt=n(33),zt=n(113),Wt=n(40),Mt={tab:"one",ingredients:[],ingredientsLoading:!1,ingredientsError:!1,constructor:[],modal:!1,modalOrder:!1,order:{},orderLoading:!1,orderError:!1},Qt={user:{name:"",email:""},registerRequest:!1,registerError:!1,loggedIn:void 0,loginRequest:!1,loginError:!1,updateTokenRequest:!1,updateTokenError:!1,logoutRequest:!1,logoutError:!1,userRequest:!1,userError:!1,updateUserRequest:!1,updateUserError:!1,forgotPasswordRequest:!1,forgotPasswordError:!1,resetPasswordRequest:!1,resetPasswordError:!1},Ft={wsConnected:!1,orders:{},wsModal:!0},Jt=Object(Bt.b)({burger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(Ie.a)(Object(Ie.a)({},e),{},{ingredientsLoading:!0,ingredientsError:!1});case _:return Object(Ie.a)(Object(Ie.a)({},e),{},{ingredientsLoading:!1,ingredientsError:!1,ingredients:t.data});case x:return Object(Ie.a)(Object(Ie.a)({},e),{},{ingredientsError:!0,ingredientsLoading:!1});case y:return Object(Ie.a)(Object(Ie.a)({},e),{},{orderLoading:!0,orderError:!1,order:{}});case N:return Object(Ie.a)(Object(Ie.a)({},e),{},{orderLoading:!1,orderError:!1,order:t.data});case E:return Object(Ie.a)(Object(Ie.a)({},e),{},{orderLoading:!1,orderError:!0});case R:return Object(Ie.a)(Object(Ie.a)({},e),{},{constructor:e.constructor?"bun"===t.item.type?[].concat(Object(Wt.a)(e.constructor),[t.item,t.item]):[].concat(Object(Wt.a)(e.constructor),[t.item]):"bun"===t.item.type?[t.item,t.item]:[t.item]});case T:return Object(Ie.a)(Object(Ie.a)({},e),{},{constructor:Object(Wt.a)(e.constructor).filter((function(e){return e.uuid!==t.id}))});case h:return Object(Ie.a)(Object(Ie.a)({},e),{},{modal:!0});case f:return Object(Ie.a)(Object(Ie.a)({},e),{},{modalOrder:!0});case g:return Object(Ie.a)(Object(Ie.a)({},e),{},{modal:!1});case v:return Object(Ie.a)(Object(Ie.a)({},e),{},{modalOrder:!1});case p:return Object(Ie.a)(Object(Ie.a)({},e),{},{tab:t.tab});case S:return Object(Ie.a)(Object(Ie.a)({},e),{},{order:{},constructor:[]});case C:var n=e.constructor.filter((function(e){return"bun"!==e.type})),r=e.constructor.filter((function(e){return"bun"===e.type})),c=Object(Wt.a)(n),a=c.splice(t.drag,1)[0];return c.splice(t.hover,0,a),Object(Ie.a)(Object(Ie.a)({},e),{},{constructor:[].concat(Object(Wt.a)(r),Object(Wt.a)(c))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(Ie.a)(Object(Ie.a)({},e),{},{registerRequest:!0,registerError:!1});case A:return Object(Ie.a)(Object(Ie.a)({},e),{},{user:t.user,registerRequest:!1,loggedIn:!0});case q:return Object(Ie.a)(Object(Ie.a)({},e),{},{registerError:!0,registerRequest:!1});case L:return Object(Ie.a)(Object(Ie.a)({},e),{},{loginRequest:!0,loginError:!1});case G:return Object(Ie.a)(Object(Ie.a)({},e),{},{user:t.user,loginRequest:!1,loggedIn:!0});case B:return Object(Ie.a)(Object(Ie.a)({},e),{},{loginError:!0,loginRequest:!1});case z:return Object(Ie.a)(Object(Ie.a)({},e),{},{updateTokenRequest:!0,updateTokenError:!1});case W:return Object(Ie.a)(Object(Ie.a)({},e),{},{loggedIn:!0,updateTokenRequest:!1});case M:return Object(Ie.a)(Object(Ie.a)({},e),{},{updateTokenError:!0,updateTokenRequest:!1});case Q:return Object(Ie.a)(Object(Ie.a)({},e),{},{logoutRequest:!0,logoutError:!1});case F:return Object(Ie.a)(Object(Ie.a)({},e),{},{loggedIn:!1,user:{name:"",email:""}});case J:return Object(Ie.a)(Object(Ie.a)({},e),{},{logoutError:!0,logoutRequest:!1});case V:return Object(Ie.a)(Object(Ie.a)({},e),{},{userRequest:!0,userError:!1});case Z:return Object(Ie.a)(Object(Ie.a)({},e),{},{user:t.user,loggedIn:!0,userRequest:!1});case H:return Object(Ie.a)(Object(Ie.a)({},e),{},{userError:!0,userRequest:!1,loggedIn:!1});case K:return Object(Ie.a)(Object(Ie.a)({},e),{},{updateUserRequest:!0,updateUserError:!1});case Y:return Object(Ie.a)(Object(Ie.a)({},e),{},{user:t.user,updateUserRequest:!1});case X:return Object(Ie.a)(Object(Ie.a)({},e),{},{updateUserError:!0,updateUserRequest:!1});case $:return Object(Ie.a)(Object(Ie.a)({},e),{},{forgotPasswordRequest:!0,forgotPasswordError:!1});case ee:return Object(Ie.a)(Object(Ie.a)({},e),{},{forgotPasswordError:!1,forgotPasswordRequest:!1});case te:return Object(Ie.a)(Object(Ie.a)({},e),{},{forgotPasswordError:!0,forgotPasswordRequest:!1});case ne:return Object(Ie.a)(Object(Ie.a)({},e),{},{resetPasswordRequest:!0,resetPasswordError:!1});case re:return Object(Ie.a)(Object(Ie.a)({},e),{},{resetPasswordError:!1,resetPasswordRequest:!1});case ce:return Object(Ie.a)(Object(Ie.a)({},e),{},{resetPasswordError:!0,resetPasswordRequest:!1});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rt:return Object(Ie.a)(Object(Ie.a)({},e),{},{wsConnected:!0});case ct:case at:return Object(Ie.a)(Object(Ie.a)({},e),{},{wsConnected:!1});case st:return Object(Ie.a)(Object(Ie.a)({},e),{},{orders:t.orders});case it:return Object(Ie.a)(Object(Ie.a)({},e),{},{wsModal:!0});case ot:return Object(Ie.a)(Object(Ie.a)({},e),{},{wsModal:!1});default:return e}}}),Vt=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Bt.c)(Object(Bt.a)(zt.a,(yt="wss://norma.nomoreparties.space/orders",Nt=mt,function(e){var t=null;return function(n){return function(r){var c,a=e.dispatch,s=r.type,i=r.withToken,o=r.payload,l=Nt.wsInit,d=Nt.onOpen,j=Nt.onClose,m=Nt.onError,b=Nt.onGetOrders,p=null===(c=u("token"))||void 0===c?void 0:c.split(" ")[1],O=i?p:"";s===l&&(t=new WebSocket(i?"".concat(yt,"?token=").concat(O):"".concat(yt).concat(o))),t&&(t.send=function(e){a({type:d,orders:e})},t.onerror=function(e){a({type:m,orders:e})},t.onmessage=function(e){var t=e.data,n=JSON.parse(t);a({type:b,orders:n})},t.onclose=function(e){a({type:j,orders:e})}),n(r)}}}))),Zt=Object(Bt.d)(Jt,Vt);s.a.render(Object(Ee.jsx)(c.a.StrictMode,{children:Object(Ee.jsx)(i.a,{store:Zt,children:Object(Ee.jsx)(Ne.a,{children:Object(Ee.jsx)(Lt,{})})})}),document.getElementById("root")),Gt()},27:function(e,t,n){e.exports={ingredient:"burger-ingredients_ingredient__1E_jZ",tab:"burger-ingredients_tab__1Ru1Z",main:"burger-ingredients_main__1liZB",map:"burger-ingredients_map__3yu6H",img:"burger-ingredients_img__GZGnF",card:"burger-ingredients_card__61Bte",counter:"burger-ingredients_counter__1RQZz",burger:"burger-ingredients_burger__19AlY",p:"burger-ingredients_p__uhNIW",link:"burger-ingredients_link__2-zFo"}},3:function(e,t,n){e.exports={App:"pages_App__1x-4Z",page_content:"pages_page_content__3JA2F",buttons:"pages_buttons__1qM5S",inputs:"pages_inputs__2xtGi",header:"pages_header__6QNo8",input:"pages_input__S_VY-",save:"pages_save__2s6c6",text:"pages_text__Qy8jJ",ingredient:"pages_ingredient__1yGIg",ingredients:"pages_ingredients__37BNQ",row:"pages_row__3l6L5",component:"pages_component__39Paj",main:"pages_main__1f08x",status:"pages_status__3KOZO text text_type_main-default pb-6",orders:"pages_orders__2y9bl",modal:"pages_modal__kFX19",content:"pages_content__2P6D3",input_size_default:"pages_input_size_default__2Ve3g",total:"pages_total__2yn4p"}},30:function(e,t,n){e.exports={item:"order-item_item__2Of_p",itemWidth:"order-item_itemWidth__1pyNS",data:"order-item_data___9AOO",list:"order-item_list__3b_D5",count:"order-item_count__2B1Yq text text_type_digits-default",price:"order-item_price__2o1lz",images:"order-item_images__TkvHT",image:"order-item_image__3rt8d",link:"order-item_link__2pV0A",status:"order-item_status__39PoF text text_type_main-default pb-6"}},32:function(e,t,n){e.exports={main:"orders-stats_main__yO5rf",orders:"orders-stats_orders__362Ka",doneNumber:"orders-stats_doneNumber__3AJgc",column:"orders-stats_column__3dqxB",count:"orders-stats_count__GkQtG",listColumn:"orders-stats_listColumn__yQqkG"}},39:function(e,t,n){e.exports={constructor:"burger-constructor_constructor__2Wifa",locked:"burger-constructor_locked__2mq9u",main:"burger-constructor_main__O9C0W",element:"burger-constructor_element__10R7L",cost:"burger-constructor_cost__3NqMY",price:"burger-constructor_price__Q5cGy",container:"burger-constructor_container__332QY",drop:"burger-constructor_drop__1AmUv"}},43:function(e,t,n){e.exports={modal:"modal_modal__1DF1f",header:"modal_header__2iX3r",button:"modal_button__3_zvg",modaloverlay:"modal_modaloverlay__3upRD"}},83:function(e,t,n){e.exports={component:"order_component__3RloR",img:"order_img__3F8zU"}}},[[211,1,2]]]);
//# sourceMappingURL=main.15ee6a1f.chunk.js.map