{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/annaplokhotnyuk/Documents/react-burger/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/Users/annaplokhotnyuk/Documents/react-burger/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _rawTaskJs = require(\"./RawTask.js\");\n\nvar TaskFactory = /*#__PURE__*/function () {\n  function TaskFactory(onError) {\n    _classCallCheck(this, TaskFactory);\n\n    this.onError = onError;\n    this.freeTasks = [];\n  }\n\n  _createClass(TaskFactory, [{\n    key: \"create\",\n    value: function create(task) {\n      var tasks = this.freeTasks;\n      var t1 = tasks.length ? tasks.pop() : new _rawTaskJs.RawTask(this.onError, function (t) {\n        return tasks[tasks.length] = t;\n      });\n      t1.task = task;\n      return t1;\n    }\n  }]);\n\n  return TaskFactory;\n}();\n\nexports.TaskFactory = TaskFactory;","map":{"version":3,"mappings":"AAAA;;;;;;;;;;AACwB,cAAc,WAAd,cAAc,CAAd;;IAEXA,W;AAGZ,uBAA2BC,OAA3B,EAAwD;AAAA;;SAA7BA;SAFnBC,YAAuB;AAE2B;;;;WAE1D,gBAAcC,IAAPC,EAA+B;AACrC,UAAMC,KAAK,GAAG,KAAKH,SAAnB;AACA,UAAMI,EAAC,GAAGD,KAAK,CAACE,MAANF,GACNA,KAAK,CAACG,GAANH,EADMA,GAEP,IAAII,UAAO,QAAX,CAAY,KAAKR,OAAjB,EAA0B,UAACK,CAAD;AAAA,eAAQD,KAAK,CAACA,KAAK,CAACE,MAAP,CAALF,GAAsBC,CAA9B;AAAA,OAA1B,CAFH;AAGAA,QAAC,CAACH,IAAFG,GAASH,IAATG;AACA,aAAOA,EAAP;AACA;;;;;;QAZWN","names":["TaskFactory","onError","freeTasks","task","create","tasks","t","length","pop","RawTask"],"sources":["../../src/TaskFactory.ts"],"sourcesContent":["import type { Task } from './types.js'\nimport { RawTask } from './RawTask.js'\n\nexport class TaskFactory {\n\tprivate freeTasks: RawTask[] = []\n\n\tpublic constructor(private onError: (err: any) => void) {}\n\n\tpublic create(task: () => void): Task {\n\t\tconst tasks = this.freeTasks\n\t\tconst t = tasks.length\n\t\t\t? (tasks.pop() as RawTask)\n\t\t\t: new RawTask(this.onError, (t) => (tasks[tasks.length] = t))\n\t\tt.task = task\n\t\treturn t\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}