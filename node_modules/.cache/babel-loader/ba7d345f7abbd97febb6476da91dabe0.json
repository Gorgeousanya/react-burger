{"ast":null,"code":"import _defineProperty from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./pages.module.css';import{useHistory,Redirect}from'react-router-dom';import{Input,Button}from'@ya.praktikum/react-developer-burger-ui-components';import React from'react';import{useDispatch,useSelector}from'react-redux';import{forgotPassword}from'../services/actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ForgotPasswordPage(){var dispatch=useDispatch();var history=useHistory();var loggedIn=useSelector(function(store){return store.auth.loggedIn;});var _React$useState=React.useState({email:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),form=_React$useState2[0],setForm=_React$useState2[1];var onChange=function onChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();dispatch(forgotPassword(form.email));history.push({pathname:'/reset-password',state:{prevPathname:history.location.pathname}});};if(loggedIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}var onLogin=function onLogin(){history.replace({pathname:'/login'});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.App,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.inputs,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.input,children:/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-medium\",children:\"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.input,children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"E-mail\",onChange:onChange,value:form.email,name:\"email\",error:false,errorText:'Ошибка',size:'default'})}),/*#__PURE__*/_jsx(Button,{type:\"primary\",size:\"medium\",children:\"\\u0412\\u043E\\u0441\\u0441\\u0442\\u0430\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.save,children:[/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-default text_color_inactive\",children:\"\\u0412\\u0441\\u043F\\u043E\\u043C\\u043D\\u0438\\u043B\\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C?\"}),/*#__PURE__*/_jsx(Button,{type:\"secondary\",size:\"medium\",onClick:onLogin,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}","map":{"version":3,"sources":["/Users/annaplokhotnyuk/Documents/react-burger/react-burger/src/pages/forgot-password.tsx"],"names":["styles","useHistory","Redirect","Input","Button","React","useDispatch","useSelector","forgotPassword","ForgotPasswordPage","dispatch","history","loggedIn","store","auth","useState","email","form","setForm","onChange","e","target","name","value","onSubmit","preventDefault","push","pathname","state","prevPathname","location","onLogin","replace","App","inputs","input","save"],"mappings":"ibAAA,MAAOA,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,kBAArC,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,oDAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAyBC,WAAzB,CAAsCC,WAAtC,KAAyD,aAAzD,CACA,OAASC,cAAT,KAA+B,0BAA/B,C,wFAEA,cAAe,SAASC,CAAAA,kBAAT,EAA8B,CAC3C,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CACA,GAAMW,CAAAA,QAAQ,CAAGL,WAAW,CAAC,SAACM,KAAD,QAA2BA,CAAAA,KAAK,CAACC,IAAN,CAAWF,QAAtC,EAAD,CAA5B,CACA,oBAAwBP,KAAK,CAACU,QAAN,CAAe,CAAEC,KAAK,CAAE,EAAT,CAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAA4C,CAC3DF,OAAO,gCAAMD,IAAN,wBAAaG,CAAC,CAACC,MAAF,CAASC,IAAtB,CAA6BF,CAAC,CAACC,MAAF,CAASE,KAAtC,GAAP,CACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACJ,CAAD,CAA6C,CAC5DA,CAAC,CAACK,cAAF,GACAf,QAAQ,CAACF,cAAc,CAACS,IAAI,CAACD,KAAN,CAAf,CAAR,CACAL,OAAO,CAACe,IAAR,CAAa,CAAEC,QAAQ,CAAE,iBAAZ,CAA+BC,KAAK,CAAE,CAAEC,YAAY,CAAElB,OAAO,CAACmB,QAAR,CAAiBH,QAAjC,CAAtC,CAAb,EACD,CAJD,CAMA,GAAIf,QAAJ,CAAc,CACZ,mBACE,KAAC,QAAD,EAAU,EAAE,CAAE,GAAd,EADF,CAGD,CAED,GAAMmB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpBpB,OAAO,CAACqB,OAAR,CAAgB,CAAEL,QAAQ,CAAE,QAAZ,CAAhB,EACD,CAFD,CAIA,mBACE,aAAK,SAAS,CAAE3B,MAAM,CAACiC,GAAvB,wBACI,aAAK,SAAS,CAAEjC,MAAM,CAACkC,MAAvB,wBACE,YAAK,SAAS,CAAElC,MAAM,CAACmC,KAAvB,uBACE,UAAG,SAAS,CAAC,4BAAb,uIADF,EADF,cAME,cAAM,QAAQ,CAAEX,QAAhB,wBACA,YAAK,SAAS,CAAExB,MAAM,CAACmC,KAAvB,uBACE,KAAC,KAAD,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,QAFd,CAGE,QAAQ,CAAEhB,QAHZ,CAIE,KAAK,CAAEF,IAAI,CAACD,KAJd,CAKE,IAAI,CAAC,OALP,CAME,KAAK,CAAE,KANT,CAOE,SAAS,CAAE,QAPb,CAQE,IAAI,CAAE,SARR,EADF,EADA,cAaA,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,IAAI,CAAC,QAA5B,sFAbA,GANF,GADJ,cAyBI,aAAK,SAAS,CAAEhB,MAAM,CAACoC,IAAvB,wBACE,UAAG,SAAS,CAAC,iDAAb,0GADF,cAIE,KAAC,MAAD,EAAQ,IAAI,CAAC,WAAb,CAAyB,IAAI,CAAC,QAA9B,CAAuC,OAAO,CAAEL,OAAhD,4CAJF,GAzBJ,GADF,CAoCD","sourcesContent":["import styles from './pages.module.css';\nimport { useHistory, Redirect } from 'react-router-dom';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport React from 'react';\nimport { RootStateOrAny, useDispatch, useSelector } from 'react-redux';\nimport { forgotPassword } from '../services/actions/auth';\n\nexport default function ForgotPasswordPage() {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const loggedIn = useSelector((store: RootStateOrAny) => store.auth.loggedIn);\n  const [form, setForm] = React.useState({ email: \"\" });\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = (e: React.SyntheticEvent<Element, Event>) => {\n    e.preventDefault();\n    dispatch(forgotPassword(form.email));\n    history.push({ pathname: '/reset-password', state: { prevPathname: history.location.pathname } });\n  };\n\n  if (loggedIn) {\n    return (\n      <Redirect to={\"/\"} />\n    );\n  }\n\n  const onLogin = () => {\n    history.replace({ pathname: '/login' });\n  };\n\n  return (\n    <div className={styles.App}>\n        <div className={styles.inputs}>\n          <div className={styles.input}>\n            <p className=\"text text_type_main-medium\">\n              Восстановление пароля\n            </p>\n          </div>\n          <form onSubmit={onSubmit}>\n          <div className={styles.input}>\n            <Input\n              type='text'\n              placeholder='E-mail'\n              onChange={onChange}\n              value={form.email}\n              name='email'\n              error={false}\n              errorText={'Ошибка'}\n              size={'default'}\n            />\n          </div>\n          <Button type=\"primary\" size=\"medium\" >\n            Восстановить\n          </Button>\n          </form>\n        </div>\n        <div className={styles.save}>\n          <p className=\"text text_type_main-default text_color_inactive\">\n            Вспомнили пароль?\n          </p>\n          <Button type=\"secondary\" size=\"medium\" onClick={onLogin}>\n            Войти\n          </Button>\n        </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}