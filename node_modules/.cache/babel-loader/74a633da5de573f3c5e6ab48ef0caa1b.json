{"ast":null,"code":"import _defineProperty from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/annaplokhotnyuk/Documents/react-burger/react-burger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./pages.module.css';import{Redirect}from'react-router-dom';import React,{useState,useRef}from'react';import{Input,Button}from'@ya.praktikum/react-developer-burger-ui-components';import{useSelector,useDispatch}from'react-redux';import{updateUser,logout}from'../services/actions/auth';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProfilePage(){var inputRef=useRef(null);var dispatch=useDispatch();var user=useSelector(function(state){return state.auth.user;});var loggedIn=useSelector(function(state){return state.auth.loggedIn;});var _useState=useState(_objectSpread(_objectSpread({},user),{},{password:\"\"})),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isSame=_useState4[0],setSame=_useState4[1];var onChange=function onChange(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));setSame(false);};var onSubmit=function onSubmit(e){e.preventDefault();dispatch(updateUser(form.email,form.name));};var onReset=function onReset(){setForm(_objectSpread({},user));setSame(true);};var onLogout=function onLogout(){dispatch(logout());if(!loggedIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}};return/*#__PURE__*/_jsx(\"div\",{className:styles.App,children:/*#__PURE__*/_jsxs(\"main\",{className:styles.page_content,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(Button,{type:\"secondary\",size:\"large\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-medium\",children:\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"})}),/*#__PURE__*/_jsx(Button,{type:\"secondary\",size:\"large\",disabled:true,children:/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-medium\",children:\"\\u0418\\u0441\\u0442\\u043E\\u0440\\u0438\\u044F \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"})}),/*#__PURE__*/_jsx(Button,{type:\"secondary\",size:\"large\",onClick:onLogout,children:/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-medium\",children:\"\\u0412\\u044B\\u0445\\u043E\\u0434\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.text,children:/*#__PURE__*/_jsx(\"p\",{className:\"text text_type_main-default text_color_inactive\",children:\"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435 \\u0412\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0441\\u0432\\u043E\\u0438 \\u043F\\u0435\\u0440\\u0441\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"})})]}),/*#__PURE__*/_jsxs(\"form\",{className:styles.buttons,onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.input,children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"\\u0418\\u043C\\u044F\",icon:\"EditIcon\",onChange:onChange,value:form.name,name:\"name\",error:false,ref:inputRef})}),/*#__PURE__*/_jsx(\"div\",{className:styles.input,children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"\\u041B\\u043E\\u0433\\u0438\\u043D\",onChange:onChange,icon:\"EditIcon\",value:form.email,name:\"email\",error:false,ref:inputRef,errorText:'Ошибка'})}),/*#__PURE__*/_jsx(\"div\",{className:styles.input,children:/*#__PURE__*/_jsx(Input,{type:\"text\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",onChange:onChange,icon:\"EditIcon\",value:form.password,name:\"password\",error:false,ref:inputRef,errorText:'Ошибка'})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.save,children:[/*#__PURE__*/_jsx(Button,{type:\"secondary\",onClick:onReset,disabled:isSame,children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Button,{disabled:isSame,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]})]})]})});}","map":{"version":3,"sources":["/Users/annaplokhotnyuk/Documents/react-burger/react-burger/src/pages/profile.tsx"],"names":["styles","Redirect","React","useState","useRef","Input","Button","useSelector","useDispatch","updateUser","logout","ProfilePage","inputRef","dispatch","user","state","auth","loggedIn","password","form","setForm","isSame","setSame","onChange","e","target","name","value","onSubmit","preventDefault","email","onReset","onLogout","App","page_content","buttons","text","input","save"],"mappings":"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","sourcesContent":["import styles from './pages.module.css';\nimport { Redirect } from 'react-router-dom';\nimport React, { useState, useRef } from 'react';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useSelector, useDispatch, RootStateOrAny } from 'react-redux';\nimport { updateUser, logout } from '../services/actions/auth';\n\nexport default function ProfilePage() {\n  const inputRef = useRef<HTMLInputElement>(null)\n  const dispatch = useDispatch();\n  const user = useSelector((state: RootStateOrAny) => state.auth.user);\n  const loggedIn = useSelector((state: RootStateOrAny) => state.auth.loggedIn);\n  const [form, setForm] = useState({ ...user, password: \"\" }); \n  const [isSame, setSame] = useState<boolean>(true);\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n    setSame(false);\n  }\n\n  const onSubmit = (e: React.SyntheticEvent<Element, Event>) => {\n    e.preventDefault();\n    dispatch(updateUser(form.email, form.name));\n  };\n\n  const onReset = () => {\n    setForm({ ...user });\n    setSame(true);\n  };\n\n  const onLogout = () => {\n    dispatch(logout());\n    if (!loggedIn) {\n      return (\n        <Redirect to={\"/login\"} />\n      );\n    }\n  };\n\n  return (\n    <div className={styles.App}>\n      <main className={styles.page_content}>\n        <div className={styles.buttons}>\n          <Button type=\"secondary\" size=\"large\" >\n            <p className=\"text text_type_main-medium\">\n              Профиль\n            </p>\n          </Button>\n          <Button type=\"secondary\" size=\"large\" disabled={true}>\n            <p className=\"text text_type_main-medium\">\n              История заказов\n            </p>\n          </Button>\n          <Button type=\"secondary\" size=\"large\" onClick={onLogout}>\n            <p className=\"text text_type_main-medium\">\n              Выход\n            </p>\n          </Button>\n          <div className={styles.text}>\n            <p className=\"text text_type_main-default text_color_inactive\">\n              В этом разделе Вы можете изменить свои персональные данные\n            </p>\n          </div>\n        </div>\n        <form className={styles.buttons} onSubmit={onSubmit}>\n          <div className={styles.input}>\n            <Input\n              type='text'\n              placeholder='Имя'\n              icon='EditIcon'\n              onChange={onChange}\n              value={form.name}\n              name='name'\n              error={false}\n              ref={inputRef}\n            />\n          </div>\n          <div className={styles.input}>\n            <Input\n              type='text'\n              placeholder='Логин'\n              onChange={onChange}\n              icon='EditIcon'\n              value={form.email}\n              name='email'\n              error={false}\n              ref={inputRef}\n              errorText={'Ошибка'}\n            />\n          </div>\n          <div className={styles.input}>\n            <Input\n              type='text'\n              placeholder='Пароль'\n              onChange={onChange}\n              icon='EditIcon'\n              value={form.password}\n              name='password'\n              error={false}\n              ref={inputRef}\n              errorText={'Ошибка'}\n            />\n          </div>\n          <div className={styles.save}>\n            <Button type='secondary' onClick={onReset} disabled={isSame} >\n              Отмена\n            </Button>\n            <Button  disabled={isSame}>\n              Сохранить\n            </Button>\n          </div>\n        </form>\n      </main>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}