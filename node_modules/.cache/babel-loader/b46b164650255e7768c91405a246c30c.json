{"ast":null,"code":"import _toConsumableArray from\"/Users/annaplokhotnyuk/Documents/react-burger/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/annaplokhotnyuk/Documents/react-burger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{CHANGE_SORT,SET_TAB,ADD_INGREDIENT,DELETE_INGREDIENT,GET_INGREDIENTS_REQUEST,GET_INGREDIENTS_SUCCESS,GET_INGREDIENTS_ERROR,GET_ORDER_REQUEST,GET_ORDER_SUCCESS,GET_ORDER_ERROR,RESET_ORDER,OPEN_MODAL,OPEN_MODAL_ORDER,CLOSE_MODAL,CLOSE_MODAL_ORDER}from'../actions/burger';export var burgerInitialState={tab:\"one\",ingredients:[],ingredientsLoading:false,ingredientsError:false,constructor:[],modal:false,modalOrder:false,order:{},orderLoading:false,orderError:false};export var burgerReducer=function burgerReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:burgerInitialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_INGREDIENTS_REQUEST:return _objectSpread(_objectSpread({},state),{},{ingredientsLoading:true,ingredientsError:false});case GET_INGREDIENTS_SUCCESS:return _objectSpread(_objectSpread({},state),{},{ingredientsLoading:false,ingredientsError:false,ingredients:action.data});case GET_INGREDIENTS_ERROR:return _objectSpread(_objectSpread({},state),{},{ingredientsError:true,ingredientsLoading:false});case GET_ORDER_REQUEST:return _objectSpread(_objectSpread({},state),{},{orderLoading:true,orderError:false,order:{}});case GET_ORDER_SUCCESS:return _objectSpread(_objectSpread({},state),{},{orderLoading:false,orderError:false,order:action.data});case GET_ORDER_ERROR:return _objectSpread(_objectSpread({},state),{},{orderLoading:false,orderError:true});case ADD_INGREDIENT:return _objectSpread(_objectSpread({},state),{},{constructor:state.constructor?action.item.type===\"bun\"?[].concat(_toConsumableArray(state.constructor),[action.item,action.item]):[].concat(_toConsumableArray(state.constructor),[action.item]):action.item.type===\"bun\"?[action.item,action.item]:[action.item]});case DELETE_INGREDIENT:return _objectSpread(_objectSpread({},state),{},{constructor:_toConsumableArray(state.constructor).filter(function(item){return item.uuid!==action.id;})});case OPEN_MODAL:return _objectSpread(_objectSpread({},state),{},{modal:true});case OPEN_MODAL_ORDER:return _objectSpread(_objectSpread({},state),{},{modalOrder:true});case CLOSE_MODAL:return _objectSpread(_objectSpread({},state),{},{modal:false});case CLOSE_MODAL_ORDER:return _objectSpread(_objectSpread({},state),{},{modalOrder:false});case SET_TAB:return _objectSpread(_objectSpread({},state),{},{tab:action.tab});case RESET_ORDER:return _objectSpread(_objectSpread({},state),{},{order:{},constructor:[]});case CHANGE_SORT:var items=state.constructor.filter(function(item){return item.type!==\"bun\";});var bun=state.constructor.filter(function(ingredient){return ingredient.type==='bun';});var other=_toConsumableArray(items);var drag=other.splice(action.drag,1)[0];other.splice(action.hover,0,drag);return _objectSpread(_objectSpread({},state),{},{constructor:[].concat(_toConsumableArray(bun),_toConsumableArray(other))});default:return state;}};","map":{"version":3,"sources":["/Users/annaplokhotnyuk/Documents/react-burger/src/services/reducers/burger.ts"],"names":["CHANGE_SORT","SET_TAB","ADD_INGREDIENT","DELETE_INGREDIENT","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_ERROR","GET_ORDER_REQUEST","GET_ORDER_SUCCESS","GET_ORDER_ERROR","RESET_ORDER","OPEN_MODAL","OPEN_MODAL_ORDER","CLOSE_MODAL","CLOSE_MODAL_ORDER","burgerInitialState","tab","ingredients","ingredientsLoading","ingredientsError","constructor","modal","modalOrder","order","orderLoading","orderError","burgerReducer","state","action","type","data","item","filter","uuid","id","items","bun","ingredient","other","drag","splice","hover"],"mappings":"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","sourcesContent":["import { TBurgerActions, CHANGE_SORT, SET_TAB, ADD_INGREDIENT, DELETE_INGREDIENT, GET_INGREDIENTS_REQUEST, GET_INGREDIENTS_SUCCESS, GET_INGREDIENTS_ERROR, GET_ORDER_REQUEST, GET_ORDER_SUCCESS, GET_ORDER_ERROR, RESET_ORDER, OPEN_MODAL, OPEN_MODAL_ORDER, CLOSE_MODAL, CLOSE_MODAL_ORDER,\n} from '../actions/burger';\nimport { TIngredient, IOrderState } from '../../utils/types';\n\ntype TBurgerState = {\n    tab: string,\n    ingredients: Array<TIngredient>,\n    ingredientsLoading: boolean,\n    ingredientsError: boolean,\n    constructor: Array<TIngredient>,\n    modal: boolean,\n    modalOrder: boolean,\n    order: IOrderState,\n    orderLoading: boolean,\n    orderError: boolean,\n  };\n\nexport const burgerInitialState: TBurgerState = { \n    tab: \"one\",\n    ingredients: [],\n    ingredientsLoading: false,\n    ingredientsError: false,\n    constructor: [],\n    modal: false,\n    modalOrder: false,\n    order: {} as IOrderState,\n    orderLoading: false,\n    orderError: false,\n};\n\nexport const burgerReducer = (state = burgerInitialState, action: TBurgerActions): TBurgerState => {\n    switch (action.type) {\n        case GET_INGREDIENTS_REQUEST:\n            return {\n                ...state,\n                ingredientsLoading: true,\n                ingredientsError: false\n            }   \n        case GET_INGREDIENTS_SUCCESS:\n            return {\n                ...state,\n                ingredientsLoading: false,\n                ingredientsError: false,\n                ingredients: action.data\n            }                       \n        case GET_INGREDIENTS_ERROR:\n            return {\n                ...state,\n                ingredientsError: true,\n                ingredientsLoading: false,\n            } \n        case GET_ORDER_REQUEST:\n            return {\n                ...state,\n                orderLoading: true,\n                orderError: false,\n                order: {} as IOrderState\n            }\n        case GET_ORDER_SUCCESS:\n            return {\n                ...state,\n                orderLoading: false,\n                orderError: false,\n                order: action.data \n            }\n        case GET_ORDER_ERROR:\n            return {\n                ...state,\n                orderLoading: false,\n                orderError: true\n            }           \n        case ADD_INGREDIENT:\n            return {\n                ...state,\n                constructor:\n                    state.constructor \n                    ? action.item.type === \"bun\" ? [...state.constructor, action.item, action.item] : [...state.constructor, action.item]\n                    : action.item.type === \"bun\" ? [action.item, action.item]: [action.item]\n            };\n        case DELETE_INGREDIENT:\n            return {\n                ...state,\n                constructor: \n                    [...state.constructor].filter((item: TIngredient) => item.uuid!==action.id)\n            }\n        case OPEN_MODAL:\n            return {\n                ...state,\n                modal: true\n            }\n        case OPEN_MODAL_ORDER:\n            return {\n                ...state,\n                modalOrder: true\n            }            \n        case CLOSE_MODAL:\n            return {\n                ...state,\n                modal: false\n            }   \n        case CLOSE_MODAL_ORDER:\n            return {\n                ...state,\n                modalOrder: false\n            }                                 \n        case SET_TAB:\n            return {\n                ...state,\n                tab: action.tab\n            }  \n        case RESET_ORDER:\n            return {\n                ...state,\n                order: {} as IOrderState,\n                constructor: [],\n            }            \n        case CHANGE_SORT:\n            const items = state.constructor.filter((item: TIngredient) => item.type!==\"bun\");\n            const bun = state.constructor.filter((ingredient: TIngredient) => ingredient.type === 'bun');\n            const other=[...items];\n            const drag = other.splice(action.drag, 1)[0];\n            other.splice(action.hover, 0, drag)\n            return {\n                ...state,\n                constructor: [...bun, ...other]\n            }                          \n        default:\n            return state;\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}